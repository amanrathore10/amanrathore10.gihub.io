!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i(1);var n,o=function(e){return e&&e.__esModule?e:{default:e}}(i(3)),a="https://api.themoviedb.org/3/",l="733e4c5273cb35e596bcb84936a79b5d",r="https://image.tmdb.org/t/p/w500",s=[];void 0!==localStorage.getItem("myMovies")&&null!==localStorage.getItem("myMovies")&&(s=JSON.parse(localStorage.getItem("myMovies")));var d={},c=null,m=document.getElementsByClassName("modal")[0],u=document.getElementsByClassName("modal-container")[0],v=document.getElementsByName("movie-filter"),g=document.getElementById("movie-name"),f=document.getElementById("movie-year");window.onload=function(){b()},document.getElementById("movie-search").addEventListener("keyup",function(e){clearTimeout(n),n=setTimeout(function(){""===e.target.value?b():function(e,t,i){fetch(e+"search/movie?api_key="+l+"&query="+t).then(function(e){return e.json()}).then(function(e){e.results=E(e.results,i);var t=e.results.map(function(e,t){var i=e.backdrop_path||e.poster_path?r+(e.backdrop_path||e.poster_path):"./images/movie-image-fallback.jpg",n=new Date(e.release_date||e.first_air_date);return n=n?n.getFullYear():"",'<div class="movie slideup"><div class="movie-image"><div class="add-movie-button"><button>ADD</button></div><img src="'+i+'"/></div><div class="movie-title">'+(e.original_name||e.original_title)+'<span class="movie-release_date">'+(n||"")+"</span></div></div>"}).join("");0!==e.results.length?document.getElementById("movie-container").innerHTML=t:document.getElementById("movie-container").innerHTML="<div>No results for this search</div>",h()})}(a,e.target.value,c)},1e3)});for(var y=0;y<v.length;y++)v[y].addEventListener("click",function(e){for(var t=0;t<v.length;){if(!0===v[t].checked){console.log(v[t].checked,v[t].value),document.getElementById("choosen-filter").innerHTML=v[t].value,c=v[t].value,b();break}t++}});function h(){for(var e=document.getElementsByClassName("movie"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.target.contains(this.childNodes[0].children[0])||((d={}).title=this.childNodes[1].innerHTML.split("<")[0],d.year=this.childNodes[1].children[0].innerText,d.imageUrl=this.childNodes[0].children[1].src,0===s.filter(function(e){return e.title===d.title}).length?(s.push(d),localStorage.setItem("myMovies",JSON.stringify(s))):d={})})}function p(){var e=s.map(function(e,t){return'<div class="movie slideup"><div class="movie-image"><div class="delete-movie-button"><button>DELETE</button></div><img src="'+(e.imageUrl||"./image/movie-image-fallback")+'"/></div><div class="movie-title">'+e.title+'<span class="movie-release_date">'+e.year+"</span></div></div>"}).join("");0!==s.length?document.getElementById("movie-container").innerHTML=e:document.getElementById("movie-container").innerHTML="<div><div>No Movie in your library</div></div>"}function b(){fetch(a+"trending/all/day?api_key="+l).then(function(e){return e.json()}).then(function(e){e.results=E(e.results,c),console.log(e);var t=e.results.map(function(e,t){var i=r+(e.backdrop_path||e.poster_path),n=new Date(e.release_date||e.first_air_date);return n=n.getFullYear(),'<div class="movie slideup"><div class="movie-image"><div class="add-movie-button"><button>ADD</button></div><img src="'+i+'"/></div><div class="movie-title" title="'+(e.original_name||e.original_title)+'">'+(e.original_name||e.original_title)+'<span class="movie-release_date">'+n+"</span></div></div>"}).join("");document.getElementById("movie-container").innerHTML='<div class="movie addmovie"><div class="movie-image" ><img style="object-fit:contain;background:#fff" src="'+o.default+'" alt="add new movie"></div><div class="movie-title" style="text-align:center;font-weight:500;letter-spacing:1px;">ADD NEW MOVIE</div></div>'+t,document.getElementsByClassName("addmovie")[0].addEventListener("click",function(e){u.style.display="block",document.body.style.overflow="hidden"}),h()})}function E(e,t){return"title"===t?e.sort(function(e,t){var i=e.original_name||e.original_title||"",n=t.original_name||t.original_title||"0";return console.log(i,n),i>n?1:-1}):"year"===t?e.sort(function(e,t){var i=new Date(e.release_date||e.first_air_date).getFullYear()||0,n=new Date(t.release_date||t.first_air_date).getFullYear()||0;return console.log(i,n),i-n}):null===t?e:void 0}document.getElementById("movie-form").addEventListener("submit",function(e){e.preventDefault(),g.value.length>0&&(d.title=g.value,d.year=f.value,s.push(d),localStorage.setItem("myMovies",JSON.stringify(s)),g.value="",f.value="",this.reset(),u.style.display="none",document.body.style.overflow="auto")}),document.getElementById("movie-img").addEventListener("change",function(e){var t=new FileReader;t.onload=function(e){document.getElementById("preview-image").src=e.target.result;var t=e.target.result;d.imageUrl=t},t.readAsDataURL(this.files[0])}),document.getElementById("mymovietab").addEventListener("click",function(e){document.getElementsByClassName("movietab")[1].classList.remove("active-tab"),document.getElementsByClassName("movietab")[0].classList.remove("active-tab"),this.classList.add("active-tab");var t=s.map(function(e,t){return'<div class="movie slideup"><div class="movie-image"><div class="delete-movie-button"><button>DELETE</button></div><img src="'+(e.imageUrl||"./image/movie-image-fallback")+'"/></div><div class="movie-title">'+e.title+'<span class="movie-release_date">'+e.year+"</span></div></div>"}).join("");0!==s.length?document.getElementById("movie-container").innerHTML=t:document.getElementById("movie-container").innerHTML="<div><div>No Movie in your library</div></div>",function e(){for(var t=document.querySelectorAll(".movie"),i=0;i<t.length;i++)t[i].addEventListener("click",function(t){t.target.contains(this.childNodes[0].children[0])||(console.log(this.childNodes,this.children),(d={}).title=this.childNodes[1].innerHTML.split("<")[0],d.year=this.childNodes[1].children[0].innerText,d.imageUrl=this.childNodes[0].children[1].src,s=s.filter(function(e){return e.title!==d.title}),console.log(s,d),localStorage.setItem("myMovies",JSON.stringify(s)),p(),e())})}()}),document.getElementById("homemovietab").addEventListener("click",function(e){document.getElementsByClassName("movietab")[1].classList.remove("active-tab"),document.getElementsByClassName("movietab")[0].classList.remove("active-tab"),this.classList.add("active-tab"),b()}),u.addEventListener("click",function(e){event.target.contains(m)&&(u.style.display="none",document.body.styleoverflow="auto")}),document.getElementById("menu-icon").addEventListener("click",function(e){document.getElementsByClassName("nav")[0].classList.toggle("show-nav")})},function(e,t,i){},,function(e,t){e.exports="img/plus-button.png"}]);
//# sourceMappingURL=bundle.map.js