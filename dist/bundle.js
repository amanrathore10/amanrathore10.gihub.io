!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n(1);var i,o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),a="https://api.themoviedb.org/3/",l="733e4c5273cb35e596bcb84936a79b5d",s="https://image.tmdb.org/t/p/w500",r=[];void 0!==localStorage.getItem("myMovies")&&null!==localStorage.getItem("myMovies")&&(r=JSON.parse(localStorage.getItem("myMovies")));var d={},c=null,m=document.getElementsByClassName("modal")[0],u=document.getElementsByClassName("modal-container")[0],v=document.getElementsByName("movie-filter"),g=document.getElementById("movie-name"),f=document.getElementById("movie-year");window.onload=function(){h()},document.getElementById("movie-search").addEventListener("keyup",function(e){clearTimeout(i),i=setTimeout(function(){""===e.target.value?h():function(e,t,n){fetch(e+"search/movie?api_key="+l+"&query="+t).then(function(e){return e.json()}).then(function(e){e.results=b(e.results,n);var t=e.results.map(function(e,t){var n=e.backdrop_path||e.poster_path?s+(e.backdrop_path||e.poster_path):"./images/movie-image-fallback.jpg",i=new Date(e.release_date||e.first_air_date);return i=i?i.getFullYear():"",'<div class="movie slideup"><div class="movie-image"><div class="add-movie-button"><button>ADD</button></div><img src="'+n+'"/></div><div class="movie-title">'+(e.original_name||e.original_title)+'<span class="movie-release_date">'+(i||"")+"</span></div></div>"}).join("");0!==e.results.length?document.getElementById("movie-container").innerHTML=t:document.getElementById("movie-container").innerHTML="<div>No results for this search</div>",p()})}(a,e.target.value,c)},1e3)});for(var y=0;y<v.length;y++)v[y].addEventListener("click",function(e){for(var t=0;t<v.length;){if(!0===v[t].checked){console.log(v[t].checked,v[t].value),document.getElementById("choosen-filter").innerHTML=v[t].value,c=v[t].value,h();break}t++}});function p(){for(var e=document.getElementsByClassName("movie"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.target.contains(this.childNodes[0].children[0])||(console.log(this.childNodes,this.children),(d={}).title=this.childNodes[1].innerHTML.split("<")[0],d.year=this.childNodes[1].children[0].innerText,d.imageUrl=this.childNodes[0].children[1].src,console.log(d),console.log(r,d),-1===r.indexOf(d)?(r.push(d),localStorage.setItem("myMovies",JSON.stringify(r))):d={})})}function h(){fetch(a+"trending/all/day?api_key="+l).then(function(e){return e.json()}).then(function(e){e.results=b(e.results,c),console.log(e);var t=e.results.map(function(e,t){var n=s+(e.backdrop_path||e.poster_path),i=new Date(e.release_date||e.first_air_date);return i=i.getFullYear(),'<div class="movie slideup"><div class="movie-image"><div class="add-movie-button"><button>ADD</button></div><img src="'+n+'"/></div><div class="movie-title" title="'+(e.original_name||e.original_title)+'">'+(e.original_name||e.original_title)+'<span class="movie-release_date">'+i+"</span></div></div>"}).join("");document.getElementById("movie-container").innerHTML='<div class="movie addmovie"><div class="movie-image" ><img style="object-fit:contain;background:#fff" src="'+o.default+'" alt="add new movie"></div><div class="movie-title" style="text-align:center;font-weight:500;letter-spacing:1px;">ADD NEW MOVIE</div></div>'+t,document.getElementsByClassName("addmovie")[0].addEventListener("click",function(e){u.style.display="block",document.body.style.overflow="hidden"}),p()})}function b(e,t){return"title"===t?e.sort(function(e,t){var n=e.original_name||e.original_title||"",i=t.original_name||t.original_title||"0";return console.log(n,i),n>i?1:-1}):"year"===t?e.sort(function(e,t){var n=new Date(e.release_date||e.first_air_date).getFullYear()||0,i=new Date(t.release_date||t.first_air_date).getFullYear()||0;return console.log(n,i),n-i}):null===t?e:void 0}document.getElementById("movie-form").addEventListener("submit",function(e){e.preventDefault(),g.value.length>0&&(d.title=g.value,d.year=f.value,r.push(d),localStorage.setItem("myMovies",JSON.stringify(r)),g.value="",f.value="",this.reset(),u.style.display="none",document.body.style.overflow="auto")}),document.getElementById("movie-img").addEventListener("change",function(e){var t=new FileReader;t.onload=function(e){document.getElementById("preview-image").src=e.target.result;var t=e.target.result;d.imageUrl=t},t.readAsDataURL(this.files[0])}),document.getElementById("mymovietab").addEventListener("click",function(e){document.getElementsByClassName("movietab")[1].classList.remove("active-tab"),document.getElementsByClassName("movietab")[0].classList.remove("active-tab"),this.classList.add("active-tab");var t=r.map(function(e,t){return'<div class="movie slideup"><div class="movie-image"><img src="'+(e.imageUrl||"./image/movie-image-fallback")+'"/></div><div class="movie-title">'+e.title+'<span class="movie-release_date">'+e.year+"</span></div></div>"}).join("");0!==r.length?document.getElementById("movie-container").innerHTML=t:document.getElementById("movie-container").innerHTML="<div><div>No Movie in your library</div></div>"}),document.getElementById("homemovietab").addEventListener("click",function(e){document.getElementsByClassName("movietab")[1].classList.remove("active-tab"),document.getElementsByClassName("movietab")[0].classList.remove("active-tab"),this.classList.add("active-tab"),h()}),u.addEventListener("click",function(e){event.target.contains(m)&&(u.style.display="none",document.body.styleoverflow="auto")}),document.getElementById("menu-icon").addEventListener("click",function(e){document.getElementsByClassName("nav")[0].classList.toggle("show-nav")})},function(e,t,n){},,function(e,t){e.exports="img/plus-button.png"}]);
//# sourceMappingURL=bundle.map.js